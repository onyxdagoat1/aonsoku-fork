# ==============================================
# AONSOKU AUTH SERVICE CONFIGURATION
# ==============================================

# ----------------------------------------------
# Server Configuration
# ----------------------------------------------
PORT=3005
NODE_ENV=development

# ----------------------------------------------
# Frontend URL (CORS)
# ----------------------------------------------
# This is the URL where your Aonsoku frontend runs
# Development: http://localhost:5173 (if using Vite dev server)
#              http://localhost:3000 (if using custom port)
# Production:  https://your-domain.com
FRONTEND_URL=http://localhost:5173

# ----------------------------------------------
# Database Configuration
# ----------------------------------------------
# For development, use SQLite (file-based, no setup needed)
DATABASE_TYPE=sqlite
DATABASE_PATH=./data/auth.db

# For production, use PostgreSQL
# DATABASE_TYPE=postgres
# DATABASE_URL=postgresql://username:password@localhost:5432/aonsoku_auth

# ----------------------------------------------
# JWT Secrets (MUST CHANGE THESE!)
# ----------------------------------------------
# Generate secure random strings using one of these commands:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#   openssl rand -hex 32
#
# ⚠️ NEVER share these secrets or commit them to git!
# ⚠️ Use different secrets for each environment (dev, staging, prod)

# JWT Access Token Secret (expires in 7 days)
JWT_SECRET=CHANGE_THIS_TO_A_RANDOM_64_CHARACTER_STRING_USE_CRYPTO_RANDOMYTES

# JWT Refresh Token Secret (expires in 30 days)
JWT_REFRESH_SECRET=CHANGE_THIS_TO_ANOTHER_RANDOM_64_CHARACTER_STRING_DIFFERENT

# Session Secret (for OAuth)
SESSION_SECRET=CHANGE_THIS_TO_YET_ANOTHER_RANDOM_64_CHARACTER_STRING_UNIQUE

# Token expiration times
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ----------------------------------------------
# Google OAuth (OPTIONAL - for YouTube features)
# ----------------------------------------------
# Leave these blank if you don't need Google login
# To set up:
#   1. Go to https://console.cloud.google.com/
#   2. Create a new project
#   3. Enable Google+ API
#   4. Create OAuth 2.0 credentials
#   5. Add authorized redirect URI: http://localhost:3005/api/auth/google/callback
#   6. Copy Client ID and Secret below

GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:3005/api/auth/google/callback

# ----------------------------------------------
# Discord OAuth (OPTIONAL - for Discord login)
# ----------------------------------------------
# Leave these blank if you don't need Discord login
# To set up:
#   1. Go to https://discord.com/developers/applications
#   2. Create a new application
#   3. Go to OAuth2 section
#   4. Add redirect URI: http://localhost:3005/api/auth/discord/callback
#   5. Copy Client ID and Secret below

DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=
DISCORD_CALLBACK_URL=http://localhost:3005/api/auth/discord/callback

# ----------------------------------------------
# Navidrome Integration
# ----------------------------------------------
# Your existing Navidrome server details
NAVIDROME_URL=http://localhost:4533
NAVIDROME_ADMIN_USER=admin
NAVIDROME_ADMIN_PASSWORD=admin

# ----------------------------------------------
# Rate Limiting
# ----------------------------------------------
# Time window in milliseconds (900000 = 15 minutes)
RATE_LIMIT_WINDOW_MS=900000
# Max requests per window
RATE_LIMIT_MAX_REQUESTS=100

# ----------------------------------------------
# Security Settings
# ----------------------------------------------
# Bcrypt rounds (10-12 for development, 12-14 for production)
BCRYPT_ROUNDS=12

# Cookie security (set to true in production with HTTPS)
COOKIE_SECURE=false

# Cookie SameSite policy
COOKIE_SAME_SITE=lax
